<html>
	<head>
		<script>
			function getOptionValue(name, defaultValue) {	
				var value = localStorage[name];	
				
				if (!value) {
					return defaultValue;
				}		
				
				return value;
			}

			function setOptionValue(name, value) {	
				if (value) {
					localStorage[name] = value;
				}
				else {
					localStorage.removeItem(name);
				}
			}

			function getOptionUserName() {
				return getOptionValue("userName", "");
			}

			function setOptionUserName(value) {
				setOptionValue("userName", value);
			}

			function getOptionIconName() {
				return getOptionValue("iconName", "a");
			}

			function setOptionIconName(value) {
				setOptionValue("iconName", value);
			}
			
			function getOptionShowAllBookmarks() {
				return getOptionValue("showAllBookmarks", "yes");
			}

			function setOptionShowAllBookmarks(value) {
				setOptionValue("showAllBookmarks", value);
			}

			function getOptionShowPrivateBookmarks() {
				return getOptionValue("showPrivateBookmarks", "no");
			}

			function setOptionShowPrivateBookmarks(value) {
				setOptionValue("showPrivateBookmarks", value);
			}

			function getOptionShowPublicBookmarks() {
				return getOptionValue("showPublicBookmarks", "no");
			}

			function setOptionShowPublicBookmarks(value) {
				setOptionValue("showPublicBookmarks", value);
			}

			function getOptionShowUnreadBookmarks() {
				return getOptionValue("showUnreadBookmarks", "no");
			}

			function setOptionShowUnreadBookmarks(value) {
				setOptionValue("showUnreadBookmarks", value);
			}

			function getOptionShowUntaggedBookmarks() {
				return getOptionValue("showUntaggedBookmarks", "no");
			}

			function setOptionShowUntaggedBookmarks(value) {
				setOptionValue("showUntaggedBookmarks", value);
			}

			function getOptionShowStarredBookmarks() {
				return getOptionValue("showStarredBookmarks", "no");
			}

			function setOptionShowStarredBookmarks(value) {
				setOptionValue("showStarredBookmarks", value);
			}

			function getOptionShowSaveBookmark() {
				return getOptionValue("showSaveBookmark", "yes");
			}

			function setOptionShowSaveBookmark(value) {
				setOptionValue("showSaveBookmark", value);
			}

			function getOptionShowReadLater() {
				return getOptionValue("showReadLater", "yes");
			}

			function setOptionShowReadLater(value) {
				setOptionValue("showReadLater", value);
			}
			
			function getOptionAll() {
				return {
					userName: getOptionUserName(),
					iconName: getOptionIconName(),
					showAllBookmarks: getOptionShowAllBookmarks(),
					showPrivateBookmarks: getOptionShowPrivateBookmarks(),
					showPublicBookmarks: getOptionShowPublicBookmarks(),
					showUnreadBookmarks: getOptionShowUnreadBookmarks(),
					showUntaggedBookmarks: getOptionShowUntaggedBookmarks(),
					showStarredBookmarks: getOptionShowStarredBookmarks(),
					showSaveBookmark: getOptionShowSaveBookmark(),
					showReadLater: getOptionShowReadLater()
				};
			}

			function setOptionAll(value) {
				setOptionValue("userName", value.userName);
				setOptionValue("iconName", value.iconName);
				setOptionValue("showAllBookmarks", value.showAllBookmarks);
				setOptionValue("showPrivateBookmarks", value.showPrivateBookmarks);
				setOptionValue("showPublicBookmarks", value.showPublicBookmarks);
				setOptionValue("showUnreadBookmarks", value.showUnreadBookmarks);
				setOptionValue("showUntaggedBookmarks", value.showUntaggedBookmarks);
				setOptionValue("showStarredBookmarks", value.showStarredBookmarks);
				setOptionValue("showSaveBookmark", value.showSaveBookmark);
				setOptionValue("showReadLater", value.showReadLater);
                updateIcon();
			}
			
			function updateIcon() {
				chrome.browserAction.setIcon({path:"icon_19_" + getOptionIconName() + ".png"});
			}
			
			updateIcon();
		</script>
  	</head>
</html>


